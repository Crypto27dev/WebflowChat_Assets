(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},155:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(39),s=a.n(n),r=(a(113),a(7)),i=a(18),l=(a(114),a(12)),o=a.n(l),d=a(101),u=a(6),j=function(e,t){switch(t.type){case"LOGIN_START":return{user:t.payload,isLoading:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isLoading:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isLoading:!1,error:t.payload};default:return e}},m=a(2),b={user:null,isFetching:!1,error:!1},p=Object(c.createContext)(b),h=function(e){var t=e.children,a=Object(c.useReducer)(j,b),n=Object(u.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(!0),l=Object(u.a)(i,2),o=l[0],d=l[1],h=Object(c.useState)(""),v=Object(u.a)(h,2),O=v[0],f=v[1];return Object(c.useEffect)((function(){"string"!==typeof s.user&&localStorage.setItem("user",JSON.stringify(s.user))}),[s.user]),Object(m.jsx)(p.Provider,{value:{user:s.user,isFetching:s.isFetching,error:s.error,isLoading:o,currentMem:O,setLoading:d,setCurrentMem:f,dispatch:r},children:t})};var v=function(){var e=Object(c.useContext)(p),t=e.dispatch,a=e.setLoading,n=e.setCurrentMem,s="https://api.upit.no/",l={"X-API-KEY":"sk_sb_13585305fc08b12a8939"};Object(c.useEffect)((function(){!function(){try{var e=window.location.search.replace("?",""),a=JSON.parse(atob(e));b(a,t)}catch(c){console.log(c)}}()}),[]);var u=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat("https://admin.memberstack.com/members","/").concat(t),{headers:l});case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t);case 3:return a=e.sent,e.next=6,o.a.post(s+"api/auth/signin",{firstname:a.customFields.fornavn,lastname:a.customFields.etternavn,email:a.auth.email,mem_id:a.id,avatar:a.customFields.profilbilde,plans:a.planConnections});case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Register Err:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,c){var i,l,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"LOGIN_START"}),e.prev=1,i={email:t.email,mem_id:t.mem_id},e.next=5,u(i.mem_id);case 5:return l=e.sent,e.next=8,o.a.post(s+"api/auth/signin",{firstname:l.customFields.fornavn,lastname:l.customFields.etternavn,email:l.auth.email,mem_id:l.id,avatar:l.customFields.profilbilde,plans:l.planConnections});case 8:if(d=e.sent,null===t||void 0===t||!t.to){e.next=12;break}return e.next=12,j(t.to);case 12:c({type:"LOGIN_SUCCESS",payload:d.data}),a(!1),n(t.to),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("Login Err:",e.t0),c({type:"LOGIN_FAILURE",payload:e.t0});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"signin-container",children:Object(m.jsx)("div",{children:Object(m.jsx)(d.a,{visible:!0,height:"80",width:"80",ariaLabel:"comment-loading",wrapperStyle:{},wrapperClass:"comment-wrapper",color:"#316af3",backgroundColor:"#fff"})})})},O=a(38),f=a(104),x=(a(142),a(143),a(144),a(60)),g=a.n(x);a(146);var N=function(e){var t=e.message,a=e.amigo,n=e.own,s=Object(c.useContext)(p).user,r="https://api.upit.no/";return Object(m.jsxs)("div",{className:"message-box",children:[Object(m.jsx)("img",{className:"message-image",src:n?null!==s&&void 0!==s&&s.avatar?s.avatar:r+"api/images/noavatar.png":null!==a&&void 0!==a&&a.avatar?a.avatar:r+"api/images/noavatar.png",alt:""}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"message-header",children:[Object(m.jsx)("span",{className:"message-user",children:n?"Meg":(null===a||void 0===a?void 0:a.firstname)+" "+(null===a||void 0===a?void 0:a.lastname)}),Object(m.jsx)("span",{className:"message-time",children:g()(t.createdAt).format("MMM DD YYYY, HH:mm")})]}),Object(m.jsx)("p",{className:"message-text",children:t.text})]})]})};a(147);var k=function(e){var t=e.addchattoggler,a=e.addchattoggle,n=Object(c.useState)(),s=Object(u.a)(n,2),l=s[0],d=s[1],j=Object(c.useContext)(p).user,b="https://api.upit.no/",h=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o.a.get("".concat(b,"api/users/?username=").concat(l));case 4:return a=e.sent,d(""),c={senderId:j._id,receiverId:a.data._id},e.next=9,o.a.post(b+"api/chatrooms",c);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:window.location.reload();case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"add-amigo-background",children:Object(m.jsxs)("div",{className:a?"add-amigo-open":"add-amigo-close",children:[Object(m.jsx)("div",{className:"close-div",children:Object(m.jsx)("span",{onClick:t,children:Object(m.jsx)("p",{className:"close-symbol",children:"x"})})}),Object(m.jsxs)("form",{children:[Object(m.jsx)("img",{className:"add-amigo-img",src:"assets/addamigo.png",alt:""}),Object(m.jsx)("input",{type:"text",placeholder:"Enter Username of Amigo",value:l,onChange:function(e){d(e.target.value)},required:!0}),Object(m.jsx)("button",{onClick:h,children:"ADD AMIGO"})]})]})})},w=a(61),y=a.n(w);a(148);var S=function(e){var t=e.toggler,a=e.togglestate,n=Object(c.useContext)(p).user,s=Object(c.useState)((null===n||void 0===n?void 0:n.firstname)+" "+(null===n||void 0===n?void 0:n.lastname)),r=Object(u.a)(s,2),i=(r[0],r[1],Object(c.useState)("")),l=Object(u.a)(i,2),o=(l[0],l[1],"https://api.upit.no/");return Object(m.jsx)("div",{className:"profile",children:Object(m.jsxs)("div",{className:a?"profile-card-open":"profile-card-close",children:[Object(m.jsx)("div",{className:"close-div",children:Object(m.jsx)("span",{onClick:t,children:Object(m.jsx)(y.a,{fontSize:"large"})})}),Object(m.jsx)("img",{className:"profile-image",src:null!==n&&void 0!==n&&n.avatar?n.avatar:o+"api/images/noavatar.png",alt:""}),Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{children:"User Name"}),Object(m.jsxs)("div",{className:"user-input",children:[null===n||void 0===n?void 0:n.firstname," ",null===n||void 0===n?void 0:n.lastname]}),Object(m.jsx)("label",{children:"Email"}),Object(m.jsx)("div",{className:"user-input",children:null===n||void 0===n?void 0:n.email}),Object(m.jsx)("button",{type:"button",onClick:t,children:"Close"})]})]})})},C=(a(149),a(64)),_=a(93),I=a(94),E=a(95),L=a(103);var A=function(e){var t=e.chatroomtile,a=e.currentChat,n=e.currentUser,s=Object(c.useState)(null),l=Object(u.a)(s,2),d=l[0],j=l[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),h=p[0],v=p[1],O=Object(c.useState)(!1),f=Object(u.a)(O,2),x=f[0],g=f[1],N=Object(c.useState)(!1),k=Object(u.a)(N,2),w=k[0],y=k[1],S=Object(c.useState)(""),A=Object(u.a)(S,2),F=A[0],M=A[1],U=Object(c.useRef)(),D="https://api.upit.no/";return Object(c.useEffect)((function(){U.current=Object(C.a)(D)}),[D]),Object(c.useEffect)((function(){var e=t.members.find((function(e){return e!==n._id})),c=null===a||void 0===a?void 0:a.members.find((function(e){return e!==n._id}));v(e===c),U.current.on("getUsers",(function(t){g(t.find((function(t){return t.userId===e})))}));var s=function(){var t=Object(i.a)(Object(r.a)().mark((function t(){var a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get(D+"api/users/"+e);case 3:a=t.sent,j(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var a,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(D+"api/messages/latest/"+(null===t||void 0===t?void 0:t._id));case 3:a=e.sent,(c=a.data).length>0&&M(Object(L.a)(c[0].createdAt).replace("right now","Akkurat n\xe5").replace("just now","Akkurat n\xe5").replace("seconds","sekunder").replace("minutes","minutter").replace("years","\xe5r").replace("hours","timer").replace("days","dager").replace("weeks","uker").replace("months","m\xe5neder").replace("minute","minutt").replace("hour","time").replace("day","dag").replace("week","uke").replace("month","m\xe5ned").replace("year","\xe5r").replace("in ","").replace(" ago","")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();s(),l()}),[n,a,t,x,D]),Object(m.jsxs)("div",{className:h?"sidebarchat sidebarchat-select":"sidebarchat",children:[Object(m.jsxs)("div",{className:"flex align-items-center",children:[Object(m.jsx)("img",{className:"amigo-profilepic",src:null!==d&&void 0!==d&&d.avatar?d.avatar:D+"api/images/noavatar.png",alt:""}),Object(m.jsx)("div",{className:x?"online":"offline"}),Object(m.jsxs)("div",{className:"flex flex-col gap-10",children:[Object(m.jsx)("p",{className:"sidebarchat-info-name",children:d?(null===d||void 0===d?void 0:d.firstname)+" "+(null===d||void 0===d?void 0:d.lastname):""}),Object(m.jsxs)("span",{className:"sidebarchat-plans",children:[1===(null===d||void 0===d?void 0:d.plans.length)&&Object(m.jsx)("span",{className:"sidebarchat-plan",children:d.plans[0].planName}),(null===d||void 0===d?void 0:d.plans.length)>1&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"sidebarchat-plan",children:null===d||void 0===d?void 0:d.plans[0].planName}),Object(m.jsxs)("span",{className:"sidebarchat-plan",children:["+",(null===d||void 0===d?void 0:d.plans.length)-1," more"]})]})]})]})]}),Object(m.jsxs)("div",{className:"flex flex-col gap-10",children:[Object(m.jsxs)("div",{className:"flex gap-10 justify-end",children:[Object(m.jsx)("span",{className:"latest_time",children:F?F.replace(" ago",""):"Akkurat n\xe5"}),Object(m.jsx)("button",{name:"favorite",className:"btn-favorite",onClick:function(){return y((function(e){return!e}))},children:w?Object(m.jsx)(_.a,{size:20,color:"#12A4FF"}):Object(m.jsx)(I.a,{size:20,color:"#8f9199"})})]}),Object(m.jsxs)("div",{className:"flex gap-10 justify-end",children:[Object(m.jsx)("span",{className:"badge",children:"1"}),Object(m.jsx)(E.a,{size:20,color:"#8f9199"})]})]})]})};a(155);var F=function(){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"EmptyChatroom",children:[Object(m.jsx)("img",{className:"emptychatroom-img",src:"https://api.upit.no/api/images/home.png",alt:""}),Object(m.jsx)("p",{className:"empty-chatroom-mainhead",children:"Welcome To Our Upit Chat!"})]})})},M=(a(156),a(102)),U=a(178),D=a(100),R=a(97),Y=a(96),z=a.n(Y),G=a(71),T=a.n(G),J=a(177),K=a(179),H=a(70),P=a.n(H),X=a(99),q=a.n(X),B=a(98),W=a.n(B);var Q=function(){var e,t,a,n=Object(c.useState)([]),s=Object(u.a)(n,2),l=s[0],d=s[1],j=Object(c.useState)(null),b=Object(u.a)(j,2),h=b[0],v=b[1],x=Object(c.useState)([]),w=Object(u.a)(x,2),_=w[0],I=w[1],E=Object(c.useState)(""),L=Object(u.a)(E,2),Y=L[0],G=L[1],H=Object(c.useState)(""),X=Object(u.a)(H,2),B=X[0],Q=X[1],V=Object(c.useState)(!1),Z=Object(u.a)(V,2),$=Z[0],ee=Z[1],te=Object(c.useState)(null),ae=Object(u.a)(te,2),ce=ae[0],ne=ae[1],se=Object(c.useState)(),re=Object(u.a)(se,2),ie=re[0],le=re[1],oe=Object(c.useState)(),de=Object(u.a)(oe,2),ue=de[0],je=de[1],me=Object(c.useState)(!1),be=Object(u.a)(me,2),pe=be[0],he=be[1],ve=Object(c.useContext)(p),Oe=ve.user,fe=ve.currentMem,xe={"X-API-KEY":"sk_sb_13585305fc08b12a8939"},ge=Object(c.useRef)(),Ne=Object(c.useRef)(),ke="https://api.upit.no/";Object(c.useEffect)((function(){Ne.current=Object(C.a)(ke),Ne.current.on("getMessage",(function(e){ne({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[ke]),Object(c.useEffect)((function(){ce&&(null===h||void 0===h?void 0:h.members.includes(ce.sender))&&I((function(e){return[].concat(Object(O.a)(e),[ce])}))}),[ce,h]),Object(c.useEffect)((function(){Ne.current.emit("addUser",null===Oe||void 0===Oe?void 0:Oe._id)}),[Oe,l,h,Ne]),Object(c.useEffect)((function(){var e=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,c,n,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=null,!fe){e.next=9;break}return e.next=5,o.a.get("".concat(ke,"api/users/?member=").concat(fe));case 5:return c=e.sent,a={senderId:Oe._id,receiverId:c.data._id},e.next=9,o.a.post(ke+"api/chatrooms",a);case 9:return e.next=11,o.a.get(ke+"api/chatrooms",{params:{user_id:Oe._id}});case 11:if(n=e.sent,d(n.data),!a){e.next=18;break}return e.next=16,o.a.post(ke+"api/chatrooms/get",a);case 16:s=e.sent,v(s.data[0]);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}();Object(i.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})))()}),[null===Oe||void 0===Oe?void 0:Oe._id,fe,ke]),Object(c.useEffect)((function(){var e=null===h||void 0===h?void 0:h.members.find((function(e){return e!==Oe._id}));Ne.current.on("getUsers",(function(t){ee(t.find((function(t){return t.userId===e})))}));var t=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat("https://admin.memberstack.com/members","/").concat(t),{headers:xe});case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a=function(){var a=Object(i.a)(Object(r.a)().mark((function a(){var c,n,s;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.get(ke+"api/users/"+e);case 3:return c=a.sent,n=c.data,le(n),a.next=8,t(n.mem_id);case 8:s=a.sent,je(s),a.next=14;break;case 12:a.prev=12,a.t0=a.catch(0);case 14:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(){return a.apply(this,arguments)}}();h&&a()}),[Oe,h,ke]),Object(c.useEffect)((function(){var e=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(ke+"api/messages/"+(null===h||void 0===h?void 0:h._id));case 3:t=e.sent,I(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();h&&e()}),[h,ke]),Object(c.useEffect)((function(){we()}),[_]);var we=function(){var e,t;null===(e=ge.current)||void 0===e||e.scroll({top:null===(t=ge.current)||void 0===t?void 0:t.scrollHeight,behavior:"smooth"})},ye=Object(c.useState)(!1),Se=Object(u.a)(ye,2),Ce=Se[0],_e=Se[1],Ie=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,c,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Y){e.next=3;break}return e.abrupt("return");case 3:return a={chatroomId:h._id,senderId:Oe._id,text:Y},c=h.members.find((function(e){return e!==Oe._id})),Ne.current.emit("sendMessage",{senderId:Oe._id,receiverId:c,text:Y}),e.prev=6,e.next=9,o.a.post(ke+"api/messages/",a);case 9:n=e.sent,I([].concat(Object(O.a)(_),[n.data])),G(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0);case 17:_e(!1);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){localStorage.removeItem("user"),window.location.href="/"},Le=Object(c.useState)(!1),Ae=Object(u.a)(Le,2),Fe=Ae[0],Me=Ae[1],Ue=Object(c.useState)(!1),De=Object(u.a)(Ue,2),Re=De[0],Ye=De[1],ze=function(){Ye(!1===Re)};return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)(k,{addchattoggler:function(){Me(!1===Fe),console.log(Fe)},addchattoggle:Fe}),Object(m.jsx)(S,{toggler:function(){ze()},togglestate:Re}),pe?"":Object(m.jsx)("div",{className:"menu-open",onClick:function(){he(!0)},children:Object(m.jsx)(J.a,{children:Object(m.jsx)(z.a,{style:{fontSize:30,color:"#333"}})})}),Object(m.jsxs)("div",{className:"home-components",children:[Object(m.jsxs)("div",{className:pe?"sidebar active":"sidebar",children:[Object(m.jsxs)("div",{className:"sidebar-top-header",children:[Object(m.jsxs)("div",{className:"sidebar-mobile-header",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{className:"menu-close",onClick:function(){he(!1)},children:Object(m.jsx)(J.a,{sx:{width:"50px",height:"50px"},children:Object(m.jsx)(y.a,{style:{fontSize:30,color:"#333"}})})})]}),Object(m.jsxs)("div",{className:"sidebar-header",children:[Object(m.jsx)(J.a,{className:"user-profile",onClick:function(){ze()},children:Object(m.jsx)("img",{className:"user-profile-image",src:null!==Oe&&void 0!==Oe&&Oe.avatar?Oe.avatar:ke+"api/images/noavatar.png",alt:""})}),Object(m.jsx)("span",{className:"sidebar-mobile-profile-name",children:(null===Oe||void 0===Oe?void 0:Oe.firstname)+" "+(null===Oe||void 0===Oe?void 0:Oe.lastname)}),Object(m.jsx)("div",{className:"logout-option",children:Object(m.jsx)(J.a,{onClick:Ee,children:Object(m.jsx)(P.a,{})})})]}),Object(m.jsxs)("div",{className:"sidebar-search",children:[Object(m.jsxs)("div",{className:"sidebar-search-container",children:[Object(m.jsx)(T.a,{className:"sidebar-searchicon"}),Object(m.jsx)("input",{type:"text",name:"chat-search",placeholder:"S\xf8k etter brukernavnet...",onChange:function(e){return Q(e.target.value)}})]}),Object(m.jsx)("div",{className:"logout-mobile-option",children:Object(m.jsx)(J.a,{onClick:Ee,children:Object(m.jsx)(P.a,{})})})]})]}),Object(m.jsx)(f.a,{className:"sidebar-members",noScrollX:!0,children:Object(m.jsx)("div",{className:"sidebar-chatoptions",children:l.filter((function(e){if(B){for(var t=0;t<e.usernames.length;t++){var a=e.usernames[t];if(a!==Oe.firstname+" "+Oe.lastname&&a.toLowerCase().includes(B.toLowerCase()))return!0}return!1}return!0})).map((function(e,t){return Object(m.jsx)("div",{onClick:function(t){v(e),he(!1)},children:Object(m.jsx)(A,{chatroomtile:e,currentChat:h,currentUser:Oe})},t)}))})})]}),Object(m.jsx)("div",{className:"chatroom",children:h?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"chatroom-header",children:[Object(m.jsxs)("div",{className:"chatroom-chatinfo",children:[Object(m.jsx)("img",{className:"chatroom-profilepic",src:null!==ie&&void 0!==ie&&ie.avatar?ie.avatar:ke+"api/images/noavatar.png",alt:""}),Object(m.jsxs)("div",{className:"chatroom-chatinfo-right",children:[Object(m.jsx)("div",{className:"chatroom-chatinfo-name",children:Object(m.jsx)("a",{href:"https://upit.no/profil/"+(null===ie||void 0===ie?void 0:ie.mem_id),name:"chat-info-name",className:"chatroom-chatinfo-name",children:ie?(null===ie||void 0===ie?void 0:ie.firstname)+" "+(null===ie||void 0===ie?void 0:ie.lastname):""})}),Object(m.jsx)("span",{className:"chatroom-plans",children:null===ie||void 0===ie?void 0:ie.plans.map((function(e,t){return Object(m.jsxs)("span",{className:"chatroom-plan",children:[e.planName,t<(null===ie||void 0===ie?void 0:ie.plans.length)-1?",":""]},t)}))}),Object(m.jsxs)("div",{className:"chatroom-top-header",children:[Object(m.jsx)("span",{children:"Sist sett: 2 timer siden"}),Object(m.jsx)("span",{children:" | "}),Object(m.jsx)("span",{children:"Lokal tid: Jan 30, 2023, 05:10"})]})]})]}),Object(m.jsx)("div",{className:"chatroom-search",children:Object(m.jsxs)("div",{className:"chatroom-search-container",children:[Object(m.jsx)(T.a,{className:"chatroom-searchicon"}),Object(m.jsx)("input",{type:"text",name:"chat-search",placeholder:"s\xf8k melding..."})]})})]}),Object(m.jsxs)("div",{className:"chatroom-container",children:[Object(m.jsxs)("div",{className:"flex flex-col w-100 h-100",children:[Object(m.jsxs)("div",{className:"chatroom-messages-container",ref:ge,onClick:function(){_e(!1)},children:[Object(m.jsxs)("div",{className:"chatroom-safety",children:[Object(m.jsxs)("div",{className:"flex flex-row w-100 align-items-center gap-10",children:[Object(m.jsx)("div",{className:"safety-line"}),Object(m.jsxs)("div",{className:"chatroom-safety-header",children:[Object(m.jsx)(R.a,{}),Object(m.jsx)("span",{children:"Du er i trygge hender"})]}),Object(m.jsx)("div",{className:"safety-line"})]}),Object(m.jsx)("span",{className:"chatroom-safety-text",children:"For \xf8kt sikkerhet, hold betalinger og kommunikasjon innenfor Upit. L\xe6r mer"})]}),_.map((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsx)(N,{message:e,amigo:ie,own:(null===e||void 0===e?void 0:e.senderId)===Oe._id})},t)}))]}),Object(m.jsxs)("div",{className:"chatroom-footer",children:[Object(m.jsxs)("div",{className:"chatroom-footer-lefticons",children:[Object(m.jsx)(J.a,{onClick:function(){_e(!Ce)},children:Object(m.jsx)(W.a,{})}),Object(m.jsx)(J.a,{children:Object(m.jsx)(q.a,{})})]}),Object(m.jsxs)("form",{children:[Object(m.jsx)(U.a,{className:"message-input",name:"message-input",placeholder:"Skriv melding",maxRows:5,onKeyDown:function(e){if(13==e.keyCode&&!e.shiftKey)return e.preventDefault(),Ie(e),!1},onChange:function(e){G(e.target.value)},value:Y,required:!0}),Object(m.jsx)("button",{className:"input-button",onClick:Y?Ie:null,children:" Send a Message "})]}),Object(m.jsx)("div",{className:"chatroom-footer-righticon",onClick:Y?Ie:null,children:Object(m.jsxs)(K.a,{className:"btn-send",children:[Object(m.jsx)("span",{className:"send-text",children:"SEND"}),Object(m.jsx)(D.a,{className:"ml-5",color:"white",size:18})]})})]})]}),Object(m.jsxs)("div",{className:"chatroom-profile",children:[Object(m.jsxs)("div",{className:"flex flex-col gap-5",children:[Object(m.jsx)("img",{className:"profile-photo",src:null!==ie&&void 0!==ie&&ie.avatar?ie.avatar:ke+"api/images/noavatar.png",alt:""}),Object(m.jsxs)("div",{className:$?"profile-online":"profile-offline",children:[Object(m.jsx)("span",{})," ",Object(m.jsx)("p",{className:"m-0",children:$?"Aktiv":"Inaktiv"})]})]}),Object(m.jsxs)("span",{className:"desc-title",children:["Om \xa0",Object(m.jsx)("a",{href:"https://upit.no/profil/"+(null===ie||void 0===ie?void 0:ie.mem_id),className:"desc-profile-name text-underline",children:ie?(null===ie||void 0===ie?void 0:ie.firstname)+" "+(null===ie||void 0===ie?void 0:ie.lastname):""})]}),Object(m.jsxs)("div",{className:"profile-description",children:[Object(m.jsxs)("div",{className:"desc-text flex-row-between gap-10",children:[Object(m.jsx)("span",{className:"gray-primary",children:"Lokasjon"}),Object(m.jsx)("span",{className:"desc-text-value",children:null===ue||void 0===ue||null===(e=ue.customFields)||void 0===e?void 0:e.lokasjon})]}),Object(m.jsxs)("div",{className:"desc-text flex-row-between",children:[Object(m.jsx)("span",{className:"gray-primary",children:"Spesialist"}),Object(m.jsx)("span",{className:"desc-text-value",children:null===ue||void 0===ue||null===(t=ue.customFields)||void 0===t?void 0:t.jobbkategori})]}),Object(m.jsxs)("div",{className:"desc-text flex-row-between",children:[Object(m.jsx)("span",{className:"gray-primary",children:"Telefon"}),Object(m.jsx)("span",{className:"desc-text-value",children:null===ue||void 0===ue||null===(a=ue.customFields)||void 0===a?void 0:a.telefonnummer})]}),Object(m.jsxs)("div",{className:"desc-text flex-row-between",children:[Object(m.jsx)("span",{className:"gray-primary",children:"Medlem siden"}),Object(m.jsx)("span",{className:"desc-text-value",children:g()(null===ue||void 0===ue?void 0:ue.createdAt).format("MMM YYYY")})]})]})]})]}),Object(m.jsx)("div",{className:Ce?"emoji-picker-open":"emoji-picker-close",children:Object(m.jsx)(M.a,{onSelect:function(e){var t=e.native;G(Y+t)},emojiSize:25})})]}):Object(m.jsx)(F,{})})]})]})};var V=function(){var e=Object(c.useContext)(p).isLoading;return Object(m.jsx)("div",{className:"App",children:e?Object(m.jsx)(v,{}):Object(m.jsx)(Q,{})})};s.a.render(Object(m.jsx)(h,{children:Object(m.jsx)(V,{})}),document.getElementById("root"))}},[[159,1,2]]]);